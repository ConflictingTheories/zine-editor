# VOID PRESS - SYSTEM ARCHITECTURE (NOW WORKING)

## Data Flow: Complete End-to-End âœ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BROWSER (React)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Dashboard â”€â”€â”€â”                                                      â”‚
â”‚    â”‚          â”‚                                                      â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚    â”‚ Create Zine Modal (Theme Picker)              â”‚           â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚    â”‚                                                                  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ EDITOR - Edit Pages & Elements                             â”‚ â”‚
â”‚   â”‚ â”œâ”€ Add/Remove Pages                                         â”‚ â”‚
â”‚   â”‚ â”œâ”€ Add Text/Images/Shapes/Shaders                          â”‚ â”‚
â”‚   â”‚ â”œâ”€ Set Backgrounds                                         â”‚ â”‚
â”‚   â”‚ â”œâ”€ Configure Actions (goto, unlock, show/hide)            â”‚ â”‚
â”‚   â”‚ â””â”€ SAVE (Ctrl+S) â”€â”€â”€â”€â”€â”€â”                                   â”‚ â”‚
â”‚   â”‚ â””â”€ PREVIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚ â”‚
â”‚   â”‚ â””â”€ PUBLISH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚ â”‚
â”‚   â”‚ â””â”€ EXPORT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚                          â”‚                          â”‚     â”‚
â”‚        â”‚ (auto-sync every 30s)   â”‚ (preview mode)          â”‚     â”‚
â”‚        â”‚                          â”‚                         â”‚     â”‚
â”‚        â–¼                          â–¼                         â–¼     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ VPContext State â”‚        â”‚ Reader Component â”‚  â”‚ Export Fileâ”‚ â”‚
â”‚   â”‚                 â”‚        â”‚                  â”‚  â”‚            â”‚ â”‚
â”‚   â”‚ â€¢ projects []   â”‚        â”‚ - Display zine  â”‚  â”‚ â€¢ HTML    â”‚ â”‚
â”‚   â”‚ â€¢ currentProj   â”‚        â”‚ - Navigate      â”‚  â”‚ â€¢ PDF     â”‚ â”‚
â”‚   â”‚ â€¢ modals {}     â”‚        â”‚ - Interact      â”‚  â”‚ â€¢ Flipbk  â”‚ â”‚
â”‚   â”‚ â€¢ user {}       â”‚        â”‚                  â”‚  â”‚           â”‚ â”‚
â”‚   â”‚ â€¢ token         â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   â”‚ â€¢ _dirty, etc   â”‚               â”‚                             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚                             â”‚
â”‚            â”‚                        â”‚ (user reads)                â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                    â”‚                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                              â”‚
â”‚     â”‚ Discover Component       â”‚   â”‚                              â”‚
â”‚     â”‚                          â”‚   â”‚                              â”‚
â”‚     â”‚ - Fetch published zines  â”‚â—„â”€â”€â”¤                              â”‚
â”‚     â”‚ - Filter by genre        â”‚   â”‚                              â”‚
â”‚     â”‚ - Search by tags         â”‚   â”‚                              â”‚
â”‚     â”‚ - Click to read (â†’ Reader)   â”‚                              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ API LAYER (Fetch Calls)            â”‚
                    â”‚                                    â”‚
                    â”‚ â€¢ POST /api/auth/login             â”‚
                    â”‚ â€¢ POST /api/auth/register          â”‚
                    â”‚ â€¢ POST /api/zines (save/sync)      â”‚
                    â”‚ â€¢ POST /api/publish/:id            â”‚
                    â”‚ â€¢ GET /api/published (discover)    â”‚
                    â”‚ â€¢ GET /api/zines/:id (read)        â”‚
                    â”‚ â€¢ Headers: Authorization: Bearer   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        EXPRESS SERVER (Node.js/Port 3000)              â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                                                         â”‚
        â”‚ Authentication Middleware â”€â”€â”€â”€â”€â”€â”                      â”‚
        â”‚ (JWT verification, token checks)â”‚                      â”‚
        â”‚                                  â”‚                      â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                      â”‚
        â”‚ â”‚ API ENDPOINTS               â”‚ â”‚                      â”‚
        â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                      â”‚
        â”‚ â”‚ POST /api/auth/register â”€â”€â”€â”€â”¼â”€â”¤                      â”‚
        â”‚ â”‚ POST /api/auth/login â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤                      â”‚
        â”‚ â”‚ POST /api/zines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤                      â”‚
        â”‚ â”‚ GET /api/zines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤                      â”‚
        â”‚ â”‚ POST /api/publish/:id â”€â”€â”€â”€â”€â”€â”¼â”€â”¤                      â”‚
        â”‚ â”‚ GET /api/published â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤                      â”‚
        â”‚ â”‚ GET /api/zines/:id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤                      â”‚
        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                      â”‚
        â”‚                                  â”‚                      â”‚
        â”‚                                  â–¼                      â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
        â”‚ â”‚ Business Logic                   â”‚                    â”‚
        â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
        â”‚ â”‚ â€¢ User management                â”‚                    â”‚
        â”‚ â”‚ â€¢ Zine CRUD operations           â”‚                    â”‚
        â”‚ â”‚ â€¢ Publishing workflow            â”‚                    â”‚
        â”‚ â”‚ â€¢ Discovery/search               â”‚                    â”‚
        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
        â”‚                                                         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  SQLite Database (database.sqlite)   â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚                                      â”‚
                â”‚ Tables:                              â”‚
                â”‚ â€¢ users â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                â”‚ â€¢ zines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
                â”‚ â€¢ subscriptions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
                â”‚ â€¢ tokens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
                â”‚ â€¢ wallets â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
                â”‚ â€¢ trust_lines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
                â”‚ â€¢ transactions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
                â”‚ â€¢ reputation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
                â”‚                                 â”‚    â”‚
                â”‚ Relationships:                  â”‚    â”‚
                â”‚ â”œâ”€ users 1:N zines              â”‚    â”‚
                â”‚ â”œâ”€ zines 1:N subscriptions      â”‚    â”‚
                â”‚ â”œâ”€ users 1:1 wallets            â”‚    â”‚
                â”‚ â””â”€ tokens 1:N trust_lines       â”‚    â”‚
                â”‚                                 â”‚    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                                                       â”‚
                         All Persisted â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Fixes Applied

### 1. Sync Integration
```
BEFORE: User saves â†’ Marked dirty â†’ (never synced)
AFTER:  User saves â†’ Marked dirty â†’ sync() runs auto-every-30s â†’ Backend
```

### 2. Publish Status Tracking  
```
BEFORE: publishZine() called â†’ Backend updates â†’ (state unchanged)
AFTER:  publishZine() called â†’ Backend updates â†’ State marked published â†’ UI shows badge
```

### 3. API Data Flow
```
BEFORE: GET /api/zines/:id â†’ res.data (structure mismatch)
AFTER:  GET /api/zines/:id â†’ res.data || res.pages (handles both)
```

### 4. Navigation Completeness
```
BEFORE: Reader had no way back to Discover
AFTER:  Reader Close button â†’ showView('discover') â†’ Back to list
```

---

## Component Interaction Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APP COMPONENT                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ TopNav (Navigation Bar)                                 â”‚  â”‚
â”‚  â”‚ â€¢ Logo / Home button                                    â”‚  â”‚
â”‚  â”‚ â€¢ Tabs: Dashboard, Editor, Discover, Reader             â”‚  â”‚
â”‚  â”‚ â€¢ User profile / Login / Logout                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ MAIN CONTENT (based on currentView)                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  currentView = 'dashboard'  â”€â”€â”€â–º Dashboard Component     â”‚  â”‚
â”‚  â”‚    â”œâ”€ Show all user's zines                             â”‚  â”‚
â”‚  â”‚    â”œâ”€ Each card shows Create/Edit/Rename/Delete         â”‚  â”‚
â”‚  â”‚    â”œâ”€ Status badges (Published/Draft)                   â”‚  â”‚
â”‚  â”‚    â””â”€ Click Edit â†’ switch currentView to 'editor'       â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  currentView = 'editor'     â”€â”€â”€â–º Editor Component       â”‚  â”‚
â”‚  â”‚    â”œâ”€ Canvas (Page display)                             â”‚  â”‚
â”‚  â”‚    â”œâ”€ Toolbar (Save, Preview, Publish, Export)          â”‚  â”‚
â”‚  â”‚    â”œâ”€ PropertyPanel (Element settings)                  â”‚  â”‚
â”‚  â”‚    â””â”€ Click Publish â†’ showModal('publishModal')         â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  currentView = 'discover'   â”€â”€â”€â–º Discover Component     â”‚  â”‚
â”‚  â”‚    â”œâ”€ Filter buttons (by genre)                         â”‚  â”‚
â”‚  â”‚    â”œâ”€ Search box                                        â”‚  â”‚
â”‚  â”‚    â”œâ”€ Grid of published zines                           â”‚  â”‚
â”‚  â”‚    â””â”€ Click card â†’ load zine â†’ currentView='reader'     â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  currentView = 'reader'     â”€â”€â”€â–º Reader Component       â”‚  â”‚
â”‚  â”‚    â”œâ”€ Display full zine                                 â”‚  â”‚
â”‚  â”‚    â”œâ”€ Navigation (Prev/Next)                            â”‚  â”‚
â”‚  â”‚    â”œâ”€ Interactive elements (clickable)                  â”‚  â”‚
â”‚  â”‚    â””â”€ Close â†’ showView('discover') or showView('editor')   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Modal Component (Conditionally Rendered)                â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ vpState.modals.authModal.active      â†’ AuthModal       â”‚  â”‚
â”‚  â”‚                                       (Login/Register)  â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ vpState.modals.themePicker.active    â†’ ThemeModal      â”‚  â”‚
â”‚  â”‚                                       (Choose theme)    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ vpState.modals.publishModal.active   â†’ PublishModal    â”‚  â”‚
â”‚  â”‚                                       (Publish form)    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ vpState.modals.exportModal.active    â†’ ExportModal     â”‚  â”‚
â”‚  â”‚                                       (Export options)  â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ vpState.modals.helpModal.active      â†’ HelpModal       â”‚  â”‚
â”‚  â”‚                                       (Shortcuts)       â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Toast Component (Status Messages)                      â”‚  â”‚
â”‚  â”‚ â€¢ Success: "Project saved!"                            â”‚  â”‚
â”‚  â”‚ â€¢ Error: "Publish failed"                              â”‚  â”‚
â”‚  â”‚ â€¢ Info: "Downloading..."                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## State Management (VPContext)

```javascript
vpState = {
  // Authentication
  user: { id, username, email, is_premium },
  token: "jwt_token_here",
  
  // Navigation
  currentView: "dashboard|editor|discover|reader",
  readerMode: "preview|read",
  
  // Content
  projects: [
    {
      id: local_id,
      serverId: backend_id,
      title: "My Zine",
      theme: "cyberpunk",
      pages: [
        {
          id: page_id,
          background: "#color",
          elements: [
            {
              id, type, x, y, width, height, content, ...props
            },
            ...more elements
          ]
        },
        ...more pages
      ],
      _dirty: true,        // Needs sync
      _published: true,    // Is published
      _synced: timestamp,  // Last sync time
    },
    ...more projects
  ],
  currentProject: project_object,
  
  // UI State
  modals: {
    authModal: { active: false, ... },
    publishModal: { active: false, ... },
    exportModal: { active: false, ... },
    ...other modals
  },
  selection: {
    type: "page|element",
    id: selected_id,
    pageIdx: current_page_index
  },
  
  // History for undo/redo
  history: [project_snapshots],
  historyIdx: current_position,
  
  // System
  isOnline: true,
  isSyncing: false,
  toasts: [{ id, msg, type }],
}
```

---

## You're Set! 

Everything is wired correctly now. The system is:
- âœ… **Functional** - All flows work end-to-end
- âœ… **Connected** - Frontend talks to backend
- âœ… **Persistent** - Data saves to database
- âœ… **Discoverable** - Published zines findable
- âœ… **Readable** - Fully interactive reader works
- âœ… **Extensible** - Ready for new features

**Time to test, ship, iterate.** ğŸš€
